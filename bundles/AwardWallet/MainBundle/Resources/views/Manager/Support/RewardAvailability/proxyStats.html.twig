<div style="display: flex">
    {% for proxy,region in stat %}
        <table style="margin-left: 20px; margin-right: 20px; width: 110px;">
            <tr>
                <th colspan="2" class="topBorder bothBorder" style="padding: 2px 10px;">{{ proxy }}</th>
            </tr>
            {% for reg,d in region %}
                <tr>
                    <td class="topBorder bothBorder" style="text-align: center; padding: 2px 10px;">{{ reg }}</td>
                    <td class="topBorder rightBorder"
                        style="text-align: right; padding: 2px 10px;">{{ d.uniqueAddress }}</td>
                </tr>
            {% endfor %}
            <tr>
                <th colspan="2" class="topBorder"></th>
            </tr>
        </table>
    {% endfor %}
</div>
<div style="display: flex;">
    {% for interval,rows in data %}
        <div style="width: 250px;">
            <strong>{{ interval }}</strong>
            {% for proxy,d in rows %}
                <div>
                    <script type="text/javascript">
                        google.charts.load("current", {packages: ["corechart"]});
                        google.charts.setOnLoadCallback(drawChart);

                        function drawChart() {
                            var data = google.visualization.arrayToDataTable([
                                ['Proxy', 'success', 'failed', {role: 'annotation'}],
                                ['', {{ d.success }}, {{ d.failed }}, ''],
                            ]);

                            var options = {
                                title: '{{ proxy }}  [ips: {{ d.uniqueAddress }}]',
                                width: 220,
                                height: 50,
                                legend: {position: 'none'},
                                chartArea: {left: 10, top: 20, width: '90%', height: '50%'},
                                bar: {groupWidth: '75%'},
                                isStacked: true
                            };
                            var chart = new google.visualization.BarChart(document.getElementById("barchart_values{{ interval }}{{ proxy }}"));
                            chart.draw(data, options);
                        }
                    </script>
                    <div id="barchart_values{{ interval }}{{ proxy }}" style="width: 200px;"></div>
                </div>
            {% endfor %}
        </div>
    {% endfor %}
</div>