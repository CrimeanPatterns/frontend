.mode(@ruleslight, @rulesdark) {
	@ruleslight();
	@media @dark {
		@rulesdark();
	}
	@{dark-class} & {
		@rulesdark();
	}
	@{light-class} & {
		@ruleslight();
	}
}
.mode-mob(@ruleslight, @rulesdark) {
	@ruleslight();
	@media @dark {
		@rulesdark();
	}
	@{dark-class}& {
		@rulesdark();
	}
	@{light-class}& {
		@ruleslight();
	}
}
.font-regular(){
	font-family: 'Open Sans', sans-serif;
}
.font-bold(){
	font-weight: bold;
}
.font-italic(){
	font-style: italic;
}
.font-semibold(){
	font-weight: 600;
}
.sprite (@mode) when (@mode = "dark") {
	background-image: url('@{default-folder}sprite-dark@2x.png@{version}');
	background-size: 800px 600px;
	background-repeat: no-repeat;
}
.sprite (@mode) when (@mode = "light") {
	background-image: url('@{default-folder}sprite@2x.png@{version}');
	background-size: 800px 600px;
	background-repeat: no-repeat;
}
.size(@width,@height){
	width: @width;
	height: @height;
}
.blur(@blur){
	-webkit-filter: blur(@blur);
	-moz-filter: blur(@blur);
	-o-filter: blur(@blur);
	-ms-filter: blur(@blur);
	filter: blur(@blur);
}
.opacity(@opacity) {
	opacity: @opacity;
}
.box-sizing(@box-sizing){
	box-sizing:@box-sizing;
	-webkit-box-sizing:@box-sizing;
	-moz-box-sizing:@box-sizing;
}
.border-radius(@radius){
	border-radius: @radius;
	-webkit-border-radius: @radius;
	-moz-border-radius: @radius;
}
.box-shadow(@shadow){
	box-shadow: @shadow;
	-webkit-box-shadow: @shadow;
	-moz-box-shadow: @shadow;
}
.transform-scale(@scale){
	transform: scale(@scale);
	-o-transform: scale(@scale);
	-ms-transform: scale(@scale);
	-moz-transform: scale(@scale);
	-webkit-transform: scale(@scale);
}
.placeholder(...) {
	&::-webkit-input-placeholder {color:@arguments}
	&::-moz-placeholder {color:@arguments;opacity: 1}
	&::-moz-placeholder {color:@arguments;opacity: 1}
	&:-ms-input-placeholder {color:@arguments}
}
.transform(@transform){
	transform: @transform;
	-webkit-transform: @transform;
	-o-transform: @transform;
	-moz-transform: @transform;
}
.transform-translate(@x, @y){
	transform: translate(@x,@y);
	-webkit-transform: translate(@x,@y);
	-o-transform: translate(@x,@y);
	-moz-transform: translate(@x,@y);
}
.translation(@translation){
	-webkit-transition: @translation;
	-moz-transition: @translation;
	-o-transition: @translation;
	transition: @translation;
}
.translation-transform(@transform){
	-webkit-transition: -webkit-transform @transform;
	-moz-transition: -moz-transform @transform;
	-o-transition: -o-transform @transform;
	transition: @transform;
}
.transform-rotate(@x){
	transform:  rotate(@x);
	-webkit-transform: rotate(@x);
	-o-transform: rotate(@x);
	-moz-transform: rotate(@x);
	-ms-transform: rotate(@x);
}
.user-select(@value){
	-webkit-user-select: @value;
	-moz-user-select: @value;
	-ms-user-select: @value;
	-o-user-select: @value;
	user-select: @value; 
}
.background-clip(@background-clip){
	-webkit-background-clip: @background-clip;
	-moz-background-clip: @background-clip;
	background-clip: @background-clip;
}
.clearfix(@both){
	content: " ";
	height: 0;
	display: block;
	clear: @both;
}
.gradient(@color, @start, @stop) {
	@dataPrefix: ~"url(data:image/svg+xml;base64,";
	@dataSuffix: ~")";
	@dataContent: ~'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><linearGradient id="g743" gradientUnits="userSpaceOnUse" x1="0%" y1="0%" x2="0%" y2="100%"><stop stop-color="@{start}" offset="0"/><stop stop-color="@{stop}" offset="1"/></linearGradient><rect x="0" y="0" width="1" height="1" fill="url(#g743)"/></svg>';
	@b64Out: ~`(function(a,b,c){function e(a){a=a.replace(/\r\n/g,'\n');var b='';for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);if(d<128){b+=String.fromCharCode(d)}else if(d>127&&d<2048){b+=String.fromCharCode(d>>6|192);b+=String.fromCharCode(d&63|128)}else{b+=String.fromCharCode(d>>12|224);b+=String.fromCharCode(d>>6&63|128);b+=String.fromCharCode(d&63|128)}}return b}function f(a){var b='';var c,f,g,h,i,j,l;var m=0;a=e(a);while(m<a.length){c=a.charCodeAt(m++);f=a.charCodeAt(m++);g=a.charCodeAt(m++);h=c>>2;i=(c&3)<<4|f>>4;j=(f&15)<<2|g>>6;l=g&63;if(isNaN(f)){j=l=64}else if(isNaN(g)){l=64}b=b+d.charAt(h)+d.charAt(i)+d.charAt(j)+d.charAt(l)}return b}var d='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';return a+f(b)+c})('@{dataPrefix}','@{dataContent}','@{dataSuffix}')`;
	background-color: @color; // Base solid colour fallback
	background-image: ~"@{b64Out}"; // IE9
	background-image: -moz-linear-gradient(top, @start, @stop); // FF 3.6+
	background-image: -ms-linear-gradient(top, @start, @stop); // IE10
	background-image: -webkit-gradient(linear, 0 0, 0 100%, from(@start), to(@stop)); // Safari 4+, Chrome 2+
	background-image: -webkit-linear-gradient(top, @start, @stop); // Safari 5.1+, Chrome 10+
	background-image: -o-linear-gradient(top, @start, @stop); // Opera 11.10
	background-image: linear-gradient(to bottom, @start, @stop); // The standard
}
.gradient-bottom(@color,@start,@stop){
	background: @color;
	background: -webkit-gradient(linear, 0 0, 0 bottom, from(@start), to(@stop));
	background: -webkit-linear-gradient(@start, @stop);
	background: -moz-linear-gradient(@start, @stop);
	background: -ms-linear-gradient(@start, @stop);
	background: -o-linear-gradient(@start, @stop);
	background: linear-gradient(@start, @stop);
}
@highdpi: ~"(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";

.at2x(@path, @w: auto, @h: auto) {
	background-image: url(@path);
	@at2x_path: ~`@{path}.replace(/\.\w/, function(match) { return "@2x" + match; })`;

	@media @highdpi {
		background-image: url("@{at2x_path}");
		background-size: @w @h;
	}
}

.shadow(){
	position:relative;
	&:before,
	&:after{
		content:"";
		position:absolute;
		z-index:-1;
		.box-shadow(0 0 8px rgba(0,0,0,0.5));
		top:0;
		bottom:0;
		left:10px;
		right:10px;
		.border-radius(~'100px / 10px');
	}
	&:after{
		right:10px;
		left:auto;
		.transform(skew(8deg) rotate(3deg));
	}
}