Тестирование
------------

Автоматизированное
===================

При разработке новых фич следует писать тесты:

- функциональные (для контроллеров)
- юнит (для классов)
- acceptance - для javascript функциональности

Допускается пропустить написание тестов для экспериментальных фич, которые возможно не пойдут в продакшн.
Писать тесты до кода или после - на усмотрение программиста.
Можно не писать тесты для редких сценариев, менеджерки.

Тесты на права доступа обязательны.
Пример теста на права доступа:
CouponControllerCest

Тесты зашедулены в CI здесь:
https://jenkins.awardwallet.com/job/Frontend/job/tests/
Запускаются по пушу.

Нельзя обновлять прод, если тесты не проходят. Либо чинятся тесты, либо ищется человек, 
который гарантирует что сломанный тест не влияет на продакшн.

Названия файлов в папке с тестами должны повторять названия файлов которые они тестируют.
Например:

Тестируемый файл:
- bundles/AwardWallet/MainBundle/Controller/Account/AutologinController.php
Тест:
- tests/functional-symfony/MainBundle/Controller/Account/AutologinControllerCest.php

Тесты должны быть добавлены в одну из групп аннотацией вида:
```php
/**
 * @group frontend-functional
 */
```
Тесты вне групп не запускаются в CI.
Возможные группы: 

- frontend-functional
- frontend-unit
- frontend-acceptance
- mobile

При использовании базы данных в тестах - не полагайтесь на существующие в базе данные.
Провайдеры, пользователи, аккаунты - все это может поменяться и тест перестанет работать.
Создавайте данные в тесте сами. Для облегчения этой задачи написано множество helper 
методов вида createAwUser, createAwAccount и т.д.

Ручное
=======

Постоянного отдела QA у нас нет.
Прежде чем отдавать кейс как готовый, убедитесь что ваш код работает не только у вас и в тестах, 
но и на staging или production.

Для длительных сценариев ручного тестирования можно воспользоваться помощью коллег.
Конечно, предпочительнее покрытие автоматическими тестами.
