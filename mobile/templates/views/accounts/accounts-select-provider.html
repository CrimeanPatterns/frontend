<page-header>
    <a class="back-link" href="" ng-click="back('index.accounts.add')"><i class="icon-back"></i><h1>{{'buttons.back'|trans:{}:'mobile'|desc:'Back'}}</h1></a>
</page-header>
<page-content>
    <div class="content-item">
        <form autocomplete="off" class="search">
            <input autocomplete="disabled" type="text" ng-model="view.query" ng-model-options="{ debounce: 350 }" ng-change="view.search(view.query)" placeholder="{{'account.add.find-placeholder'|trans:{}:'mobile'|desc:'Find a program to add'}}" ng-target="focusSearch">
            <button ng-if="!view.query || view.query.length < 1" type="submit">{{'account.add.find-placeholder'|trans:{}:'mobile'|desc:'Find a program to add'}}</button>
            <a ng-if="view.query.length>0" ng-click="view.clear();focusSearch.focus();" href="" class="clear"><i class="icon-clear-d"></i></a>
        </form>
        <spinner spinner-key="spinner-1" loading="spinnerAddSpin"></spinner>
        <div class="error-block" ng-if="view.error">
            <div class="error-message"><i class="icon-warning"></i>
                <div ng-bind="view.error"></div>
            </div>
        </div>
        <div class="accounts list" ng-if="view.providers">
            <a ng-repeat="provider in view.providers"
               ng-click="view.open({providerId:provider.ProviderID})">
                <table>
                    <tbody>
                    <tr>
                        <td class="title"><h3 ng-bind-html="provider.DisplayName"></h3></td>
                        <td class="status" ng-if="provider.Has">{{'track.program.added'|trans}}</td>
                        <td class="readmore"><i class="icon-next-arrow"></i></td>
                    </tr>
                    </tbody>
                </table>
            </a>
        </div>
        <div class="not-found" ng-if="view.query && view.providers.length == 0">
            <i class="icon-warning"></i>
            <p>{{'award.account.list.search.not-found'|trans}}</p>
        </div>
    </div>
</page-content>
